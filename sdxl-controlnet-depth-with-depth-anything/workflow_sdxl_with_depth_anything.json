{
  "last_node_id": 35,
  "last_link_id": 55,
  "nodes": [
    {
      "id": 7,
      "type": "CLIPTextEncode",
      "pos": {
        "0": 394,
        "1": 179
      },
      "size": {
        "0": 210,
        "1": 54
      },
      "flags": {
        "collapsed": true
      },
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 5
        },
        {
          "name": "text",
          "type": "STRING",
          "link": 22,
          "widget": {
            "name": "text"
          }
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            43
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "text, watermark, deformation, abstract, unrealistic, out of frame, worst quality, low quality, jpeg artifacts, ugly, duplicate, morbid, mutilated, extra fingers, mutated hands, poorly drawn hands, poorly drawn face, mutation, deformed, blurry, dehydrated, bad anatomy, bad proportions, extra limbs, cloned face, disfigured, gross proportions, malformed limbs, missing arms, missing legs, extra arms, extra legs, fused fingers, too many fingers, long neck"
      ]
    },
    {
      "id": 11,
      "type": "CheckpointLoaderSimple",
      "pos": {
        "0": -32,
        "1": -385
      },
      "size": {
        "0": 336,
        "1": 98
      },
      "flags": {
        "collapsed": false
      },
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            34
          ],
          "slot_index": 0,
          "shape": 3
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            11,
            13
          ],
          "slot_index": 1,
          "shape": 3
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            37
          ],
          "slot_index": 2,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "sd_xl_refiner_1.0.safetensors"
      ]
    },
    {
      "id": 6,
      "type": "CLIPTextEncode",
      "pos": {
        "0": 419,
        "1": 78
      },
      "size": {
        "0": 210,
        "1": 54
      },
      "flags": {
        "collapsed": true
      },
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 3
        },
        {
          "name": "text",
          "type": "STRING",
          "link": 19,
          "widget": {
            "name": "text"
          }
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            42
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "(1) A detailed image of a human hand with fingers extended to show the number 1. The hand has the index finger pointing upward, while the other fingers are closed into the palm. The skin tone is natural, and the lighting highlights the contours and details of the hand. The image focuses on the hand. The hand comes from a body which is not visible in the image.\n\n(2) At the background, far away, there is a green mountain of the peruvian andes.\n\n(3) A bit behind the hand, there is a condor flying through the blue sky."
      ]
    },
    {
      "id": 16,
      "type": "PrimitiveNode",
      "pos": {
        "0": -64,
        "1": 85
      },
      "size": {
        "0": 398,
        "1": 140
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            21,
            22
          ],
          "slot_index": 0,
          "widget": {
            "name": "text"
          }
        }
      ],
      "title": "Negative Prompt",
      "properties": {
        "Run widget replace on values": false
      },
      "widgets_values": [
        "text, watermark, deformation, abstract, unrealistic, out of frame, worst quality, low quality, jpeg artifacts, ugly, duplicate, morbid, mutilated, extra fingers, mutated hands, poorly drawn hands, poorly drawn face, mutation, deformed, blurry, dehydrated, bad anatomy, bad proportions, extra limbs, cloned face, disfigured, gross proportions, malformed limbs, missing arms, missing legs, extra arms, extra legs, fused fingers, too many fingers, long neck"
      ],
      "color": "#332922",
      "bgcolor": "#593930",
      "shape": 4
    },
    {
      "id": 4,
      "type": "CheckpointLoaderSimple",
      "pos": {
        "0": -52.802642822265625,
        "1": 358
      },
      "size": {
        "0": 397,
        "1": 98
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            27
          ],
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            3,
            5
          ],
          "slot_index": 1
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            8
          ],
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "fenrisxlFlux_fenrisxlV164fp16SDXL.safetensors"
      ]
    },
    {
      "id": 31,
      "type": "Image Comparer (rgthree)",
      "pos": {
        "0": 2365,
        "1": -34
      },
      "size": [
        725.7094486051424,
        442.46213316901253
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "image_a",
          "type": "IMAGE",
          "link": 52,
          "dir": 3
        },
        {
          "name": "image_b",
          "type": "IMAGE",
          "link": 51,
          "dir": 3
        }
      ],
      "outputs": [],
      "properties": {
        "comparer_mode": "Slide"
      },
      "widgets_values": [
        [
          {
            "name": "A",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_cjpxp_00001_.png&type=temp&subfolder=&rand=0.38806917417340325"
          },
          {
            "name": "B",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_cjpxp_00002_.png&type=temp&subfolder=&rand=0.6518860672237263"
          }
        ]
      ]
    },
    {
      "id": 9,
      "type": "SaveImage",
      "pos": {
        "0": 1714,
        "1": 250
      },
      "size": {
        "0": 426.084228515625,
        "1": 437.66387939453125
      },
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 9
        }
      ],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "base_output"
      ],
      "shape": 1
    },
    {
      "id": 8,
      "type": "VAEDecode",
      "pos": {
        "0": 1456,
        "1": 251
      },
      "size": {
        "0": 210,
        "1": 46
      },
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 28
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 8
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            9,
            52
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 18,
      "type": "VAEDecode",
      "pos": {
        "0": 1429,
        "1": -330
      },
      "size": {
        "0": 210,
        "1": 46
      },
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 36
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 37
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            50,
            51
          ],
          "slot_index": 0,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 20,
      "type": "KSampler",
      "pos": {
        "0": 1055,
        "1": -331
      },
      "size": {
        "0": 315,
        "1": 262
      },
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 34
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 32
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 33
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 35
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            36
          ],
          "slot_index": 0,
          "shape": 3
        }
      ],
      "title": "KSampler for refiner (like img2img)",
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        440296891130341,
        "randomize",
        15,
        8,
        "dpmpp_2m",
        "normal",
        0.25
      ]
    },
    {
      "id": 13,
      "type": "CLIPTextEncode",
      "pos": {
        "0": 432,
        "1": -223
      },
      "size": {
        "0": 210,
        "1": 54
      },
      "flags": {
        "collapsed": true
      },
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 13
        },
        {
          "name": "text",
          "type": "STRING",
          "link": 21,
          "slot_index": 1,
          "widget": {
            "name": "text"
          }
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            33
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "text, watermark, deformation, abstract, unrealistic, out of frame, worst quality, low quality, jpeg artifacts, ugly, duplicate, morbid, mutilated, extra fingers, mutated hands, poorly drawn hands, poorly drawn face, mutation, deformed, blurry, dehydrated, bad anatomy, bad proportions, extra limbs, cloned face, disfigured, gross proportions, malformed limbs, missing arms, missing legs, extra arms, extra legs, fused fingers, too many fingers, long neck"
      ]
    },
    {
      "id": 12,
      "type": "CLIPTextEncode",
      "pos": {
        "0": 427,
        "1": -274
      },
      "size": {
        "0": 219,
        "1": 54
      },
      "flags": {
        "collapsed": true
      },
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 11
        },
        {
          "name": "text",
          "type": "STRING",
          "link": 18,
          "slot_index": 1,
          "widget": {
            "name": "text"
          }
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            32
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "(1) A detailed image of a human hand with fingers extended to show the number 1. The hand has the index finger pointing upward, while the other fingers are closed into the palm. The skin tone is natural, and the lighting highlights the contours and details of the hand. The image focuses on the hand. The hand comes from a body which is not visible in the image.\n\n(2) At the background, far away, there is a green mountain of the peruvian andes.\n\n(3) A bit behind the hand, there is a condor flying through the blue sky."
      ]
    },
    {
      "id": 17,
      "type": "KSampler",
      "pos": {
        "0": 1099,
        "1": 253
      },
      "size": {
        "0": 315,
        "1": 262
      },
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 27
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 44
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 45
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 38
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            28,
            35
          ],
          "slot_index": 0,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        1085169340721285,
        "randomize",
        30,
        6,
        "dpmpp_2s_ancestral",
        "normal",
        1
      ]
    },
    {
      "id": 19,
      "type": "SaveImage",
      "pos": {
        "0": 1706,
        "1": -406
      },
      "size": [
        456.6273448409379,
        448.21378356673983
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 50
        }
      ],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "refiner_output"
      ],
      "shape": 1
    },
    {
      "id": 15,
      "type": "PrimitiveNode",
      "pos": {
        "0": -54,
        "1": -163
      },
      "size": {
        "0": 402,
        "1": 188
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            18,
            19
          ],
          "slot_index": 0,
          "widget": {
            "name": "text"
          }
        }
      ],
      "title": "Positive Prompt",
      "properties": {
        "Run widget replace on values": false
      },
      "widgets_values": [
        "(1) A detailed image of a human hand with fingers extended to show the number 1. The hand has the index finger pointing upward, while the other fingers are closed into the palm. The skin tone is natural, and the lighting highlights the contours and details of the hand. The image focuses on the hand. The hand comes from a body which is not visible in the image.\n\n(2) At the background, far away, there is a green mountain of the peruvian andes.\n\n(3) A bit behind the hand, there is a condor flying through the blue sky."
      ],
      "color": "#232",
      "bgcolor": "#353",
      "shape": 4
    },
    {
      "id": 33,
      "type": "DepthAnythingPreprocessor",
      "pos": {
        "0": 194,
        "1": 1170
      },
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 53
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            54,
            55
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "DepthAnythingPreprocessor"
      },
      "widgets_values": [
        "depth_anything_vitl14.pth",
        512
      ]
    },
    {
      "id": 26,
      "type": "LoadImage",
      "pos": {
        "0": -172,
        "1": 625
      },
      "size": {
        "0": 315,
        "1": 314
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [],
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "ComfyUI_temp_klvio_00001_.png",
        "image"
      ]
    },
    {
      "id": 21,
      "type": "EmptyLatentImage",
      "pos": {
        "0": 682,
        "1": 627
      },
      "size": {
        "0": 295.7807922363281,
        "1": 106
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            38
          ],
          "slot_index": 0,
          "shape": 3
        }
      ],
      "title": "Image Size\n",
      "properties": {
        "Node name for S&R": "EmptyLatentImage"
      },
      "widgets_values": [
        1344,
        768,
        1
      ]
    },
    {
      "id": 23,
      "type": "ControlNetLoader",
      "pos": {
        "0": 187,
        "1": 575
      },
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            40
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "controlnet-union-sdxl-1.0.safetensors"
      ]
    },
    {
      "id": 25,
      "type": "ACN_AdvancedControlNetApply",
      "pos": {
        "0": 693,
        "1": 277
      },
      "size": {
        "0": 285.6000061035156,
        "1": 286
      },
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 42
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 43
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 40
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 55
        },
        {
          "name": "mask_optional",
          "type": "MASK",
          "link": null,
          "shape": 7
        },
        {
          "name": "timestep_kf",
          "type": "TIMESTEP_KEYFRAME",
          "link": null,
          "shape": 7
        },
        {
          "name": "latent_kf_override",
          "type": "LATENT_KEYFRAME",
          "link": null,
          "shape": 7
        },
        {
          "name": "weights_override",
          "type": "CONTROL_NET_WEIGHTS",
          "link": null,
          "shape": 7
        },
        {
          "name": "model_optional",
          "type": "MODEL",
          "link": null,
          "shape": 7
        },
        {
          "name": "vae_optional",
          "type": "VAE",
          "link": null,
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            44
          ],
          "slot_index": 0
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            45
          ],
          "slot_index": 1
        },
        {
          "name": "model_opt",
          "type": "MODEL",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "ACN_AdvancedControlNetApply"
      },
      "widgets_values": [
        1,
        0,
        1,
        ""
      ]
    },
    {
      "id": 34,
      "type": "LoadImage",
      "pos": {
        "0": -178,
        "1": 1170
      },
      "size": [
        315,
        314
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            53
          ],
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "Screenshot 2024-10-11 at 17.35.36.png",
        "image"
      ]
    },
    {
      "id": 35,
      "type": "PreviewImage",
      "pos": {
        "0": 647,
        "1": 1169
      },
      "size": [
        378.411452685481,
        278.4673985197003
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 54
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    }
  ],
  "links": [
    [
      3,
      4,
      1,
      6,
      0,
      "CLIP"
    ],
    [
      5,
      4,
      1,
      7,
      0,
      "CLIP"
    ],
    [
      8,
      4,
      2,
      8,
      1,
      "VAE"
    ],
    [
      9,
      8,
      0,
      9,
      0,
      "IMAGE"
    ],
    [
      11,
      11,
      1,
      12,
      0,
      "CLIP"
    ],
    [
      13,
      11,
      1,
      13,
      0,
      "CLIP"
    ],
    [
      18,
      15,
      0,
      12,
      1,
      "STRING"
    ],
    [
      19,
      15,
      0,
      6,
      1,
      "STRING"
    ],
    [
      21,
      16,
      0,
      13,
      1,
      "STRING"
    ],
    [
      22,
      16,
      0,
      7,
      1,
      "STRING"
    ],
    [
      27,
      4,
      0,
      17,
      0,
      "MODEL"
    ],
    [
      28,
      17,
      0,
      8,
      0,
      "LATENT"
    ],
    [
      32,
      12,
      0,
      20,
      1,
      "CONDITIONING"
    ],
    [
      33,
      13,
      0,
      20,
      2,
      "CONDITIONING"
    ],
    [
      34,
      11,
      0,
      20,
      0,
      "MODEL"
    ],
    [
      35,
      17,
      0,
      20,
      3,
      "LATENT"
    ],
    [
      36,
      20,
      0,
      18,
      0,
      "LATENT"
    ],
    [
      37,
      11,
      2,
      18,
      1,
      "VAE"
    ],
    [
      38,
      21,
      0,
      17,
      3,
      "LATENT"
    ],
    [
      40,
      23,
      0,
      25,
      2,
      "CONTROL_NET"
    ],
    [
      42,
      6,
      0,
      25,
      0,
      "CONDITIONING"
    ],
    [
      43,
      7,
      0,
      25,
      1,
      "CONDITIONING"
    ],
    [
      44,
      25,
      0,
      17,
      1,
      "CONDITIONING"
    ],
    [
      45,
      25,
      1,
      17,
      2,
      "CONDITIONING"
    ],
    [
      50,
      18,
      0,
      19,
      0,
      "IMAGE"
    ],
    [
      51,
      18,
      0,
      31,
      1,
      "IMAGE"
    ],
    [
      52,
      8,
      0,
      31,
      0,
      "IMAGE"
    ],
    [
      53,
      34,
      0,
      33,
      0,
      "IMAGE"
    ],
    [
      54,
      33,
      0,
      35,
      0,
      "IMAGE"
    ],
    [
      55,
      33,
      0,
      25,
      3,
      "IMAGE"
    ]
  ],
  "groups": [
    {
      "title": "RESULT WITH REFINER",
      "bounding": [
        1678,
        -492,
        515,
        564
      ],
      "color": "#a1309b",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "RESULT WITHOUT REFINER",
      "bounding": [
        1697,
        164,
        461,
        543
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "BASE HERE",
      "bounding": [
        -77,
        278,
        444,
        203
      ],
      "color": "#8A8",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "REFINER HERE",
      "bounding": [
        -55,
        -455,
        381,
        183
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.5131581182307068,
      "offset": [
        1167.0354076775075,
        389.65333406016657
      ]
    }
  },
  "version": 0.4
}